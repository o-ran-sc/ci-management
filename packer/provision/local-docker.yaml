# This Ansible playbook adds packages to the
# O-RAN-SC build minion image that has Docker.
---
- import_playbook: ../common-packer/provision/docker.yaml

- hosts: all
  become_user: root
  become_method: sudo

  pre_tasks:
    - include_role: name=lfit.system-update

  tasks:
    - name: 'Install rake gem'
      command: 'gem install rake'
      become: true

    - name: 'Install PackageCloud'
      command: 'gem install package_cloud'
      become: true

    - include_role:
        name: fubarhouse.golang
      vars:
        go_version: 1.12
