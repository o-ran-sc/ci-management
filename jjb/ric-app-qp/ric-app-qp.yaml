---
- project:
    name: ric-app-qp-project-view
    project-name: ric-app-qp
    views:
      - project-view

- project:
    name: ric-app-qp-info
    project: ric-app/qp
    project-name: ric-app-qp
    build-node: centos7-builder-1c-1g
    jobs:
      - gerrit-info-yaml-verify

- qp_common: &qp_common
    # required even though overridden everywhere
    name: qp-common
    # git repo
    project: ric-app/qp
    # jenkins job name prefix
    project-name: ric-app-qp
    # maven settings file has docker credentials
    mvn-settings: ric-app-qp-settings
    # the install script assumes an ubuntu image
    build-node: ubuntu1804-builder-2c-2g
    pre-build-script: !include-raw-escape:
      - ../shell/install-deb-nng-rmr.sh
    # impt for verify and tox etc
    python-version: python3
    # no need to verify docs
    tox-envs: code,flake8

- project:
    <<: *qp_common
    name: ric-app-qp-verify
    jobs:
      - gerrit-tox-verify
    stream:
      - master:
          branch: master
